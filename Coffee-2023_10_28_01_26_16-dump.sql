--
-- PostgreSQL database dump
--

-- Dumped from database version 15.4
-- Dumped by pg_dump version 15.4

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: Category; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Category" (
    "IdCategory" integer NOT NULL,
    "Name" character varying(30) NOT NULL,
    "Photo" character varying(250)
);


ALTER TABLE public."Category" OWNER TO postgres;

--
-- Name: Category_IdCategory_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Category" ALTER COLUMN "IdCategory" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Category_IdCategory_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Cookings; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Cookings" (
    "IdCooking" integer NOT NULL,
    "IdUser" integer NOT NULL,
    "IdOrder" integer NOT NULL,
    "DateAdmission" timestamp without time zone NOT NULL
);


ALTER TABLE public."Cookings" OWNER TO postgres;

--
-- Name: Cookings_IdCooking_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Cookings" ALTER COLUMN "IdCooking" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Cookings_IdCooking_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: DishCategory; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."DishCategory" (
    "IdList" integer NOT NULL,
    "IdCategory" integer NOT NULL,
    "IdDish" integer NOT NULL
);


ALTER TABLE public."DishCategory" OWNER TO postgres;

--
-- Name: DishCategory_IdList_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."DishCategory" ALTER COLUMN "IdList" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."DishCategory_IdList_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Dishes; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Dishes" (
    "IdDish" integer NOT NULL,
    "Name" character varying(30) NOT NULL,
    "Price" real NOT NULL,
    "Photo" character varying(250)
);


ALTER TABLE public."Dishes" OWNER TO postgres;

--
-- Name: Dishes_IdDish_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Dishes" ALTER COLUMN "IdDish" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Dishes_IdDish_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: OrderDish; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."OrderDish" (
    "IdList" integer NOT NULL,
    "IdDish" integer NOT NULL,
    "IdOrder" integer NOT NULL,
    "CountDishes" integer NOT NULL
);


ALTER TABLE public."OrderDish" OWNER TO postgres;

--
-- Name: OrderDish_IdList_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."OrderDish" ALTER COLUMN "IdList" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."OrderDish_IdList_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Orders; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Orders" (
    "IdOrder" integer NOT NULL,
    "FullPrice" real NOT NULL,
    "DateAndTime" timestamp without time zone NOT NULL,
    "IdStatus" integer NOT NULL
);


ALTER TABLE public."Orders" OWNER TO postgres;

--
-- Name: Orders_IdOrder_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Orders" ALTER COLUMN "IdOrder" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Orders_IdOrder_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Posts; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Posts" (
    "IdPost" integer NOT NULL,
    "Name" character varying(20) NOT NULL
);


ALTER TABLE public."Posts" OWNER TO postgres;

--
-- Name: Posts_IdPost_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Posts" ALTER COLUMN "IdPost" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Posts_IdPost_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Promotions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Promotions" (
    "IdPromotion" integer NOT NULL,
    "IdDish" integer NOT NULL,
    "FinishDate" timestamp without time zone NOT NULL,
    "DiscountPercent" integer NOT NULL,
    "TotalPrice" double precision NOT NULL
);


ALTER TABLE public."Promotions" OWNER TO postgres;

--
-- Name: Promotions_IdPromotion_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Promotions" ALTER COLUMN "IdPromotion" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Promotions_IdPromotion_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: StatusesOrder; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."StatusesOrder" (
    "IdStatus" integer NOT NULL,
    "Name" character varying(25) NOT NULL
);


ALTER TABLE public."StatusesOrder" OWNER TO postgres;

--
-- Name: StatusesOrder_IdStatus_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."StatusesOrder" ALTER COLUMN "IdStatus" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."StatusesOrder_IdStatus_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Users" (
    "IdUser" integer NOT NULL,
    "Login" character varying(30) NOT NULL,
    "Password" character varying(30) NOT NULL,
    "FName" character varying(30) NOT NULL,
    "SName" character varying(30) NOT NULL,
    "LName" character varying(30),
    "IdPost" integer NOT NULL
);


ALTER TABLE public."Users" OWNER TO postgres;

--
-- Name: Users_IdUser_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Users" ALTER COLUMN "IdUser" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Users_IdUser_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: Category; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public."Category" VALUES (2, 'Напитки', 'AssetsUser/beverages.png');
INSERT INTO public."Category" VALUES (3, 'Десерты', 'AssetsUser/Dessert.png');


--
-- Data for Name: Cookings; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- Data for Name: DishCategory; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public."DishCategory" VALUES (3, 3, 3);
INSERT INTO public."DishCategory" VALUES (1, 2, 1);
INSERT INTO public."DishCategory" VALUES (2, 3, 2);


--
-- Data for Name: Dishes; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public."Dishes" VALUES (1, 'Капучино', 100, 'AssetsUser/Kapuchino.jpg');
INSERT INTO public."Dishes" VALUES (2, 'Кекс', 40, 'AssetsUser/Keks.jpg');
INSERT INTO public."Dishes" VALUES (3, 'Синабон', 80, 'AssetsUser/Synabon.jpeg');


--
-- Data for Name: OrderDish; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public."OrderDish" VALUES (1, 2, 2, 2);
INSERT INTO public."OrderDish" VALUES (2, 2, 3, 3);
INSERT INTO public."OrderDish" VALUES (3, 2, 4, 3);
INSERT INTO public."OrderDish" VALUES (4, 2, 5, 3);
INSERT INTO public."OrderDish" VALUES (5, 2, 6, 2);
INSERT INTO public."OrderDish" VALUES (6, 2, 7, 4);
INSERT INTO public."OrderDish" VALUES (7, 3, 7, 3);


--
-- Data for Name: Orders; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public."Orders" VALUES (2, 80, '2023-10-27 17:45:34.658268', 1);
INSERT INTO public."Orders" VALUES (3, 120, '2023-10-27 18:21:04.492153', 1);
INSERT INTO public."Orders" VALUES (4, 120, '2023-10-27 18:23:00.275486', 1);
INSERT INTO public."Orders" VALUES (5, 120, '2023-10-27 18:24:21.344892', 1);
INSERT INTO public."Orders" VALUES (6, 80, '2023-10-27 18:26:25.099027', 1);
INSERT INTO public."Orders" VALUES (7, 400, '2023-10-27 18:26:52.559333', 1);


--
-- Data for Name: Posts; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public."Posts" VALUES (1, 'Администратор');
INSERT INTO public."Posts" VALUES (2, 'Повар');
INSERT INTO public."Posts" VALUES (3, 'Кассир');


--
-- Data for Name: Promotions; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public."Promotions" VALUES (1, 3, '2023-10-29 00:00:00', 30, 56);
INSERT INTO public."Promotions" VALUES (2, 2, '2023-10-29 00:00:00', 30, 28);


--
-- Data for Name: StatusesOrder; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public."StatusesOrder" VALUES (1, 'Оплачено');
INSERT INTO public."StatusesOrder" VALUES (2, 'Принято');
INSERT INTO public."StatusesOrder" VALUES (3, 'Готово');
INSERT INTO public."StatusesOrder" VALUES (4, 'Выдано');


--
-- Data for Name: Users; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public."Users" VALUES (1, '1', '1', 'Владислав', 'Кипоров', 'Александрович', 1);


--
-- Name: Category_IdCategory_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Category_IdCategory_seq"', 1, false);


--
-- Name: Cookings_IdCooking_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Cookings_IdCooking_seq"', 1, false);


--
-- Name: DishCategory_IdList_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."DishCategory_IdList_seq"', 1, false);


--
-- Name: Dishes_IdDish_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Dishes_IdDish_seq"', 1, false);


--
-- Name: OrderDish_IdList_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."OrderDish_IdList_seq"', 7, true);


--
-- Name: Orders_IdOrder_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Orders_IdOrder_seq"', 7, true);


--
-- Name: Posts_IdPost_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Posts_IdPost_seq"', 3, true);


--
-- Name: Promotions_IdPromotion_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Promotions_IdPromotion_seq"', 2, true);


--
-- Name: StatusesOrder_IdStatus_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."StatusesOrder_IdStatus_seq"', 4, true);


--
-- Name: Users_IdUser_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Users_IdUser_seq"', 2, true);


--
-- Name: Category Category_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Category"
    ADD CONSTRAINT "Category_pkey" PRIMARY KEY ("IdCategory");


--
-- Name: Cookings Cookings_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Cookings"
    ADD CONSTRAINT "Cookings_pkey" PRIMARY KEY ("IdCooking");


--
-- Name: DishCategory DishCategory_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."DishCategory"
    ADD CONSTRAINT "DishCategory_pkey" PRIMARY KEY ("IdList");


--
-- Name: Dishes Dishes_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Dishes"
    ADD CONSTRAINT "Dishes_pkey" PRIMARY KEY ("IdDish");


--
-- Name: OrderDish OrderDish_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."OrderDish"
    ADD CONSTRAINT "OrderDish_pkey" PRIMARY KEY ("IdList");


--
-- Name: Orders Orders_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Orders"
    ADD CONSTRAINT "Orders_pkey" PRIMARY KEY ("IdOrder");


--
-- Name: Posts Posts_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Posts"
    ADD CONSTRAINT "Posts_pkey" PRIMARY KEY ("IdPost");


--
-- Name: Promotions Promotions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Promotions"
    ADD CONSTRAINT "Promotions_pkey" PRIMARY KEY ("IdPromotion");


--
-- Name: StatusesOrder StatusesOrder_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."StatusesOrder"
    ADD CONSTRAINT "StatusesOrder_pkey" PRIMARY KEY ("IdStatus");


--
-- Name: Users Users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Users"
    ADD CONSTRAINT "Users_pkey" PRIMARY KEY ("IdUser");


--
-- Name: IX_Cookings_IdOrder; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_Cookings_IdOrder" ON public."Cookings" USING btree ("IdOrder");


--
-- Name: IX_Cookings_IdUser; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_Cookings_IdUser" ON public."Cookings" USING btree ("IdUser");


--
-- Name: IX_DishCategory_IdCategory; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_DishCategory_IdCategory" ON public."DishCategory" USING btree ("IdCategory");


--
-- Name: IX_DishCategory_IdDish; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_DishCategory_IdDish" ON public."DishCategory" USING btree ("IdDish");


--
-- Name: IX_OrderDish_IdDish; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_OrderDish_IdDish" ON public."OrderDish" USING btree ("IdDish");


--
-- Name: IX_OrderDish_IdOrder; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_OrderDish_IdOrder" ON public."OrderDish" USING btree ("IdOrder");


--
-- Name: IX_Orders_IdStatus; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_Orders_IdStatus" ON public."Orders" USING btree ("IdStatus");


--
-- Name: IX_Promotions_IdDish; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_Promotions_IdDish" ON public."Promotions" USING btree ("IdDish");


--
-- Name: IX_Users_IdPost; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_Users_IdPost" ON public."Users" USING btree ("IdPost");


--
-- Name: Cookings Cookings_IdOrder_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Cookings"
    ADD CONSTRAINT "Cookings_IdOrder_fkey" FOREIGN KEY ("IdOrder") REFERENCES public."Orders"("IdOrder");


--
-- Name: Cookings Cookings_IdUser_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Cookings"
    ADD CONSTRAINT "Cookings_IdUser_fkey" FOREIGN KEY ("IdUser") REFERENCES public."Users"("IdUser");


--
-- Name: DishCategory DishCategory_IdCategory_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."DishCategory"
    ADD CONSTRAINT "DishCategory_IdCategory_fkey" FOREIGN KEY ("IdCategory") REFERENCES public."Category"("IdCategory");


--
-- Name: DishCategory DishCategory_IdDish_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."DishCategory"
    ADD CONSTRAINT "DishCategory_IdDish_fkey" FOREIGN KEY ("IdDish") REFERENCES public."Dishes"("IdDish");


--
-- Name: OrderDish OrderDish_IdDish_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."OrderDish"
    ADD CONSTRAINT "OrderDish_IdDish_fkey" FOREIGN KEY ("IdDish") REFERENCES public."Dishes"("IdDish");


--
-- Name: OrderDish OrderDish_IdOrder_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."OrderDish"
    ADD CONSTRAINT "OrderDish_IdOrder_fkey" FOREIGN KEY ("IdOrder") REFERENCES public."Orders"("IdOrder");


--
-- Name: Orders Orders_IdStatus_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Orders"
    ADD CONSTRAINT "Orders_IdStatus_fkey" FOREIGN KEY ("IdStatus") REFERENCES public."StatusesOrder"("IdStatus");


--
-- Name: Promotions Promotions_IdDish_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Promotions"
    ADD CONSTRAINT "Promotions_IdDish_fkey" FOREIGN KEY ("IdDish") REFERENCES public."Dishes"("IdDish");


--
-- Name: Users Users_IdPost_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Users"
    ADD CONSTRAINT "Users_IdPost_fkey" FOREIGN KEY ("IdPost") REFERENCES public."Posts"("IdPost");


--
-- PostgreSQL database dump complete
--

